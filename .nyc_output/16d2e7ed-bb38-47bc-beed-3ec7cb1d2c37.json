{"/home/jake/projects/hobnob/src/validators/errors/validation-error/index.js":{"path":"/home/jake/projects/hobnob/src/validators/errors/validation-error/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":10,"column":4},"end":{"line":10,"column":21}},"3":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"4":{"start":{"line":13,"column":6},"end":{"line":13,"column":53}},"5":{"start":{"line":19,"column":15},"end":{"line":19,"column":30}},"6":{"start":{"line":20,"column":0},"end":{"line":20,"column":27}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":9,"column":2},"end":{"line":9,"column":3}},"loc":{"start":{"line":9,"column":25},"end":{"line":15,"column":3}},"line":9}},"branchMap":{"0":{"loc":{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},"type":"if","locations":[{"start":{"line":12,"column":4},"end":{"line":14,"column":5}},{"start":{"line":12,"column":4},"end":{"line":14,"column":5}}],"line":12}},"s":{"0":1,"1":1,"2":21,"3":21,"4":21,"5":1,"6":1},"f":{"0":21},"b":{"0":[21,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["ValidationError","Error","constructor","params","captureStackTrace"],"mappings":";;;;;;;AAAA,MAAMA,eAAN,SAA8BC,KAA9B,CAAoC;AAChCC,EAAAA,WAAW,CAAC,GAAGC,MAAJ,EAAY;AACnB,UAAM,GAAGA,MAAT;;AAEA,QAAIF,KAAK,CAACG,iBAAV,EAA6B;AACzBH,MAAAA,KAAK,CAACG,iBAAN,CAAwB,IAAxB,EAA8BJ,eAA9B;AACH;AACJ;;AAP+B;;eAUrBA,e","sourceRoot":"/home/jake/projects/hobnob/src/validators/errors/validation-error/","sourcesContent":["class ValidationError extends Error {\n    constructor(...params) {\n        super(...params);\n\n        if (Error.captureStackTrace) {\n            Error.captureStackTrace(this, ValidationError);\n        }\n    }\n}\n\nexport default ValidationError;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0f1c6da1025bb0890d13ff746da02de907825cf3","contentHash":"793b2fdd77d3fbf62c9ed099b7f9b7a99536d15d70b06033f27fc38009bc5180"},"/home/jake/projects/hobnob/src/engines/users/create/index.js":{"path":"/home/jake/projects/hobnob/src/engines/users/create/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":28},"end":{"line":9,"column":42}},"3":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":45}},"5":{"start":{"line":15,"column":2},"end":{"line":19,"column":5}},"6":{"start":{"line":22,"column":15},"end":{"line":22,"column":21}},"7":{"start":{"line":23,"column":0},"end":{"line":23,"column":27}}},"fnMap":{"0":{"name":"create","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":15}},"loc":{"start":{"line":8,"column":53},"end":{"line":20,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},{"start":{"line":11,"column":2},"end":{"line":13,"column":3}}],"line":11}},"s":{"0":1,"1":1,"2":4,"3":4,"4":1,"5":3,"6":1,"7":1},"f":{"0":4},"b":{"0":[1,3]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["create","req","db","validator","ValidationError","validationResults","Promise","reject","index","process","env","ELASTICSEARCH_INDEX","type","body"],"mappings":";;;;;;;AAAA,SAASA,MAAT,CAAgBC,GAAhB,EAAqBC,EAArB,EAAyBC,SAAzB,EAAoCC,eAApC,EAAqD;AACnD,QAAMC,iBAAiB,GAAGF,SAAS,CAACF,GAAD,CAAnC;;AACA,MAAII,iBAAiB,YAAYD,eAAjC,EAAkD;AAChD,WAAOE,OAAO,CAACC,MAAR,CAAeF,iBAAf,CAAP;AACD;;AACD,SAAOH,EAAE,CAACM,KAAH,CAAS;AACdA,IAAAA,KAAK,EAAEC,OAAO,CAACC,GAAR,CAAYC,mBADL;AAEdC,IAAAA,IAAI,EAAE,MAFQ;AAGdC,IAAAA,IAAI,EAAEZ,GAAG,CAACY;AAHI,GAAT,CAAP;AAKD;;eAEcb,M","sourceRoot":"/home/jake/projects/hobnob/src/engines/users/create/","sourcesContent":["function create(req, db, validator, ValidationError) {\n  const validationResults = validator(req);\n  if (validationResults instanceof ValidationError) {\n    return Promise.reject(validationResults);\n  }\n  return db.index({\n    index: process.env.ELASTICSEARCH_INDEX,\n    type: 'user',\n    body: req.body,\n  });\n}\n\nexport default create;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25ee4f9c4e4c4ec7aae8fe096b37afc2cc46e142","contentHash":"fe1d3e5ff2149882d7ed0703da79bf955c7c5fe76e48b84cd9be8564d061abc2"},"/home/jake/projects/hobnob/src/handlers/users/create/index.js":{"path":"/home/jake/projects/hobnob/src/handlers/users/create/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":2},"end":{"line":29,"column":5}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":42}},"5":{"start":{"line":12,"column":4},"end":{"line":12,"column":32}},"6":{"start":{"line":14,"column":4},"end":{"line":20,"column":5}},"7":{"start":{"line":15,"column":6},"end":{"line":15,"column":22}},"8":{"start":{"line":16,"column":6},"end":{"line":16,"column":50}},"9":{"start":{"line":17,"column":6},"end":{"line":19,"column":9}},"10":{"start":{"line":22,"column":4},"end":{"line":22,"column":14}},"11":{"start":{"line":24,"column":4},"end":{"line":24,"column":20}},"12":{"start":{"line":25,"column":4},"end":{"line":25,"column":48}},"13":{"start":{"line":26,"column":4},"end":{"line":28,"column":7}},"14":{"start":{"line":32,"column":15},"end":{"line":32,"column":25}},"15":{"start":{"line":33,"column":0},"end":{"line":33,"column":27}}},"fnMap":{"0":{"name":"createUser","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":19}},"loc":{"start":{"line":8,"column":70},"end":{"line":30,"column":1}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":9,"column":58},"end":{"line":9,"column":59}},"loc":{"start":{"line":9,"column":68},"end":{"line":13,"column":3}},"line":9},"2":{"name":"(anonymous_2)","decl":{"start":{"line":13,"column":5},"end":{"line":13,"column":6}},"loc":{"start":{"line":13,"column":12},"end":{"line":23,"column":3}},"line":13},"3":{"name":"(anonymous_3)","decl":{"start":{"line":23,"column":11},"end":{"line":23,"column":12}},"loc":{"start":{"line":23,"column":17},"end":{"line":29,"column":3}},"line":23}},"branchMap":{"0":{"loc":{"start":{"line":14,"column":4},"end":{"line":20,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":20,"column":5}},{"start":{"line":14,"column":4},"end":{"line":20,"column":5}}],"line":14}},"s":{"0":1,"1":1,"2":18,"3":6,"4":6,"5":6,"6":12,"7":6,"8":6,"9":6,"10":6,"11":6,"12":6,"13":6,"14":1,"15":1},"f":{"0":18,"1":6,"2":12,"3":6},"b":{"0":[6,6]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["createUser","req","res","db","create","validator","ValidationError","then","result","status","set","send","_id","err","json","message","catch"],"mappings":";;;;;;;AAAA,SAASA,UAAT,CAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,EAA9B,EAAkCC,MAAlC,EAA0CC,SAA1C,EAAqDC,eAArD,EAAsE;AACpE,SAAOF,MAAM,CAACH,GAAD,EAAME,EAAN,EAAUE,SAAV,EAAqBC,eAArB,CAAN,CAA4CC,IAA5C,CAAkDC,MAAD,IAAY;AAClEN,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX;AACAP,IAAAA,GAAG,CAACQ,GAAJ,CAAQ,cAAR,EAAwB,YAAxB;AACA,WAAOR,GAAG,CAACS,IAAJ,CAASH,MAAM,CAACI,GAAhB,CAAP;AACD,GAJM,EAIHC,GAAD,IAAS;AACV,QAAIA,GAAG,YAAYP,eAAnB,EAAoC;AAClCJ,MAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX;AACAP,MAAAA,GAAG,CAACQ,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,aAAOR,GAAG,CAACY,IAAJ,CAAS;AAAEC,QAAAA,OAAO,EAAEF,GAAG,CAACE;AAAf,OAAT,CAAP;AACD;;AACD,UAAMF,GAAN;AACD,GAXM,EAWJG,KAXI,CAWE,MAAM;AACbd,IAAAA,GAAG,CAACO,MAAJ,CAAW,GAAX;AACAP,IAAAA,GAAG,CAACQ,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,WAAOR,GAAG,CAACY,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAT,CAAP;AACD,GAfM,CAAP;AAgBD;;eAEcf,U","sourceRoot":"/home/jake/projects/hobnob/src/handlers/users/create/","sourcesContent":["function createUser(req, res, db, create, validator, ValidationError) {\n  return create(req, db, validator, ValidationError).then((result) => {\n    res.status(201);\n    res.set('Content-Type', 'text/plain');\n    return res.send(result._id);\n  }, (err) => {\n    if (err instanceof ValidationError) {\n      res.status(400);\n      res.set('Content-Type', 'application/json');\n      return res.json({ message: err.message });\n    }\n    throw err;\n  }).catch(() => {\n    res.status(500);\n    res.set('Content-Type', 'application/json');\n    return res.json({ message: 'Internal Server Error' });\n  });\n}\n\nexport default createUser;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e67ec2127c3f23f48daf032a7a433b4fba84cc5d","contentHash":"98550bb44d77fb59c047db743a86db776f49627af2bbb270a891260be8b71874"},"/home/jake/projects/hobnob/src/middleware/check-content-type-is-json/index.js":{"path":"/home/jake/projects/hobnob/src/middleware/check-content-type-is-json/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"5":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}},"7":{"start":{"line":20,"column":15},"end":{"line":20,"column":37}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"checkContentTypeIsJson","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":31}},"loc":{"start":{"line":8,"column":48},"end":{"line":18,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},{"start":{"line":9,"column":2},"end":{"line":15,"column":3}}],"line":9}},"s":{"0":1,"1":1,"2":10,"3":8,"4":8,"5":8,"6":2,"7":1,"8":1},"f":{"0":10},"b":{"0":[8,2]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["checkContentTypeIsJson","req","res","next","headers","includes","status","set","json","message"],"mappings":";;;;;;;AAAA,SAASA,sBAAT,CAAgCC,GAAhC,EAAqCC,GAArC,EAA0CC,IAA1C,EAAgD;AAC5C,MAAI,CAACF,GAAG,CAACG,OAAJ,CAAY,cAAZ,EAA4BC,QAA5B,CAAqC,kBAArC,CAAL,EAA+D;AAC7DH,IAAAA,GAAG,CAACI,MAAJ,CAAW,GAAX;AACAJ,IAAAA,GAAG,CAACK,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,WAAOL,GAAG,CAACM,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAT,CAAP;AACD;;AACD,SAAON,IAAI,EAAX;AACD;;eAEYH,sB","sourceRoot":"/home/jake/projects/hobnob/src/middleware/check-content-type-is-json/","sourcesContent":["function checkContentTypeIsJson(req, res, next) {\n    if (!req.headers['content-type'].includes('application/json')) {\n      res.status(415);\n      res.set('Content-Type', 'application/json');\n      return res.json({ message: 'The \"Content-Type\" header must always be \"application/json\"' });\n    }\n    return next();\n  }\n\nexport default checkContentTypeIsJson;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"3e9ed9a475d179e832e707999f9bc73a8c09fbfc","contentHash":"9caa3e6200b3fceb4b24ffc238d92597008ecb182077ac1b01e6d3289c0065b4"},"/home/jake/projects/hobnob/src/middleware/check-content-type-is-set/index.js":{"path":"/home/jake/projects/hobnob/src/middleware/check-content-type-is-set/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"5":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}},"7":{"start":{"line":20,"column":15},"end":{"line":20,"column":36}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"checkContentTypeIsSet","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":30}},"loc":{"start":{"line":8,"column":47},"end":{"line":18,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},{"start":{"line":9,"column":2},"end":{"line":15,"column":3}}],"line":9},"1":{"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":108}},"type":"binary-expr","locations":[{"start":{"line":9,"column":6},"end":{"line":9,"column":35}},{"start":{"line":9,"column":39},"end":{"line":9,"column":76}},{"start":{"line":9,"column":80},"end":{"line":9,"column":108}}],"line":9}},"s":{"0":1,"1":1,"2":12,"3":8,"4":8,"5":8,"6":4,"7":1,"8":1},"f":{"0":12},"b":{"0":[8,4],"1":[12,12,10]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["checkContentTypeIsSet","req","res","next","headers","status","set","json","message"],"mappings":";;;;;;;AAAA,SAASA,qBAAT,CAA+BC,GAA/B,EAAoCC,GAApC,EAAyCC,IAAzC,EAA+C;AAC3C,MACEF,GAAG,CAACG,OAAJ,CAAY,gBAAZ,KACGH,GAAG,CAACG,OAAJ,CAAY,gBAAZ,MAAkC,GADrC,IAEG,CAACH,GAAG,CAACG,OAAJ,CAAY,cAAZ,CAHN,EAIE;AACAF,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX;AACAH,IAAAA,GAAG,CAACI,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,WAAOJ,GAAG,CAACK,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAT,CAAP;AACD;;AACD,SAAOL,IAAI,EAAX;AACD;;eAEYH,qB","sourceRoot":"/home/jake/projects/hobnob/src/middleware/check-content-type-is-set/","sourcesContent":["function checkContentTypeIsSet(req, res, next) {\n    if (\n      req.headers['content-length']\n      && req.headers['content-length'] !== '0'\n      && !req.headers['content-type']\n    ) {\n      res.status(400);\n      res.set('Content-Type', 'application/json');\n      return res.json({ message: 'The \"Content-Type\" header must be set for requests with a non-empty payload' });\n    }\n    return next();\n  }\n\nexport default checkContentTypeIsSet;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"1bc65152b92e99c0f7b10210010acca35e5d467e","contentHash":"a247eedcd1078ef2150934c4e7e77b15cc2cf66413613357aa993ee1d6c28633"},"/home/jake/projects/hobnob/src/middleware/check-empty-payload/index.js":{"path":"/home/jake/projects/hobnob/src/middleware/check-empty-payload/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"5":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}},"7":{"start":{"line":20,"column":15},"end":{"line":20,"column":32}},"8":{"start":{"line":21,"column":0},"end":{"line":21,"column":27}}},"fnMap":{"0":{"name":"checkEmptyPayload","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":26}},"loc":{"start":{"line":8,"column":43},"end":{"line":18,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},{"start":{"line":9,"column":2},"end":{"line":15,"column":3}}],"line":9},"1":{"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":92}},"type":"binary-expr","locations":[{"start":{"line":9,"column":6},"end":{"line":9,"column":51}},{"start":{"line":9,"column":55},"end":{"line":9,"column":92}}],"line":9}},"s":{"0":1,"1":1,"2":32,"3":24,"4":24,"5":24,"6":8,"7":1,"8":1},"f":{"0":32},"b":{"0":[24,8],"1":[32,30]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["checkEmptyPayload","req","res","next","includes","method","headers","status","set","json","message"],"mappings":";;;;;;;AAAA,SAASA,iBAAT,CAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACvC,MACE,CAAC,MAAD,EAAS,OAAT,EAAkB,KAAlB,EAAyBC,QAAzB,CAAkCH,GAAG,CAACI,MAAtC,KACGJ,GAAG,CAACK,OAAJ,CAAY,gBAAZ,MAAkC,GAFvC,EAGE;AACAJ,IAAAA,GAAG,CAACK,MAAJ,CAAW,GAAX;AACAL,IAAAA,GAAG,CAACM,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,WAAON,GAAG,CAACO,IAAJ,CAAS;AACdC,MAAAA,OAAO,EAAE;AADK,KAAT,CAAP;AAGD;;AACD,SAAOP,IAAI,EAAX;AACD;;eAEYH,iB","sourceRoot":"/home/jake/projects/hobnob/src/middleware/check-empty-payload/","sourcesContent":["function checkEmptyPayload(req, res, next) {\n    if (\n      ['POST', 'PATCH', 'PUT'].includes(req.method)\n      && req.headers['content-length'] === '0'\n    ) {\n      res.status(400);\n      res.set('Content-Type', 'application/json');\n      return res.json({\n        message: 'Payload should not be empty',\n      });\n    }\n    return next();\n  }\n  \nexport default checkEmptyPayload;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"062aee3f7ab35a58dd121ea7b9bd652c0b07bb2a","contentHash":"c5b2ed7c1ad420745e9bc7be7d8bc58501c122cb9a3f407f886cf2590a69045a"},"/home/jake/projects/hobnob/src/middleware/error-handler/index.js":{"path":"/home/jake/projects/hobnob/src/middleware/error-handler/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"3":{"start":{"line":10,"column":4},"end":{"line":10,"column":20}},"4":{"start":{"line":11,"column":4},"end":{"line":11,"column":48}},"5":{"start":{"line":12,"column":4},"end":{"line":14,"column":7}},"6":{"start":{"line":17,"column":2},"end":{"line":17,"column":16}},"7":{"start":{"line":21,"column":15},"end":{"line":21,"column":27}},"8":{"start":{"line":22,"column":0},"end":{"line":22,"column":27}}},"fnMap":{"0":{"name":"errorHandler","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":21}},"loc":{"start":{"line":8,"column":43},"end":{"line":18,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},"type":"if","locations":[{"start":{"line":9,"column":2},"end":{"line":15,"column":3}},{"start":{"line":9,"column":2},"end":{"line":15,"column":3}}],"line":9},"1":{"loc":{"start":{"line":9,"column":6},"end":{"line":9,"column":109}},"type":"binary-expr","locations":[{"start":{"line":9,"column":6},"end":{"line":9,"column":32}},{"start":{"line":9,"column":36},"end":{"line":9,"column":54}},{"start":{"line":9,"column":58},"end":{"line":9,"column":71}},{"start":{"line":9,"column":75},"end":{"line":9,"column":109}}],"line":9}},"s":{"0":1,"1":1,"2":16,"3":8,"4":8,"5":8,"6":8,"7":1,"8":1},"f":{"0":16},"b":{"0":[8,8],"1":[16,14,12,10]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["errorHandler","err","req","res","next","SyntaxError","status","type","set","json","message"],"mappings":";;;;;;;AAAA,SAASA,YAAT,CAAsBC,GAAtB,EAA2BC,GAA3B,EAAgCC,GAAhC,EAAqCC,IAArC,EAA2C;AACvC,MAAIH,GAAG,YAAYI,WAAf,IAA8BJ,GAAG,CAACK,MAAJ,KAAe,GAA7C,IAAoD,UAAUL,GAA9D,IAAqEA,GAAG,CAACM,IAAJ,KAAa,qBAAtF,EAA6G;AAC3GJ,IAAAA,GAAG,CAACG,MAAJ,CAAW,GAAX;AACAH,IAAAA,GAAG,CAACK,GAAJ,CAAQ,cAAR,EAAwB,kBAAxB;AACA,WAAOL,GAAG,CAACM,IAAJ,CAAS;AAAEC,MAAAA,OAAO,EAAE;AAAX,KAAT,CAAP;AACD;;AACD,SAAON,IAAI,EAAX;AACD;;AAAA;eAEYJ,Y","sourceRoot":"/home/jake/projects/hobnob/src/middleware/error-handler/","sourcesContent":["function errorHandler(err, req, res, next) {\n    if (err instanceof SyntaxError && err.status === 400 && 'body' in err && err.type === 'entity.parse.failed') {\n      res.status(400);\n      res.set('Content-Type', 'application/json');\n      return res.json({ message: 'Payload should be in JSON format'});\n    }\n    return next();\n  };\n\nexport default errorHandler;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6ec437963f8f1141905e0af21b55839a7ebdd558","contentHash":"891651e3f47c065c9a5f91e3bb8c5b1764eed2b4847d64d65e65ac5cbdc4185a"},"/home/jake/projects/hobnob/src/validators/errors/messages/index.js":{"path":"/home/jake/projects/hobnob/src/validators/errors/messages/index.js","statementMap":{"0":{"start":{"line":3,"column":0},"end":{"line":5,"column":3}},"1":{"start":{"line":6,"column":0},"end":{"line":6,"column":25}},"2":{"start":{"line":9,"column":16},"end":{"line":9,"column":25}},"3":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"4":{"start":{"line":12,"column":4},"end":{"line":12,"column":86}},"5":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"6":{"start":{"line":16,"column":4},"end":{"line":16,"column":80}},"7":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"8":{"start":{"line":20,"column":4},"end":{"line":20,"column":82}},"9":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"10":{"start":{"line":24,"column":4},"end":{"line":24,"column":108}},"11":{"start":{"line":27,"column":2},"end":{"line":27,"column":35}},"12":{"start":{"line":30,"column":15},"end":{"line":30,"column":45}},"13":{"start":{"line":31,"column":0},"end":{"line":31,"column":27}}},"fnMap":{"0":{"name":"generateValidationErrorMessage","decl":{"start":{"line":8,"column":9},"end":{"line":8,"column":39}},"loc":{"start":{"line":8,"column":48},"end":{"line":28,"column":1}},"line":8}},"branchMap":{"0":{"loc":{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},"type":"if","locations":[{"start":{"line":11,"column":2},"end":{"line":13,"column":3}},{"start":{"line":11,"column":2},"end":{"line":13,"column":3}}],"line":11},"1":{"loc":{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},"type":"if","locations":[{"start":{"line":15,"column":2},"end":{"line":17,"column":3}},{"start":{"line":15,"column":2},"end":{"line":17,"column":3}}],"line":15},"2":{"loc":{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},"type":"if","locations":[{"start":{"line":19,"column":2},"end":{"line":21,"column":3}},{"start":{"line":19,"column":2},"end":{"line":21,"column":3}}],"line":19},"3":{"loc":{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},"type":"if","locations":[{"start":{"line":23,"column":2},"end":{"line":25,"column":3}},{"start":{"line":23,"column":2},"end":{"line":25,"column":3}}],"line":23}},"s":{"0":1,"1":1,"2":4,"3":4,"4":1,"5":3,"6":1,"7":2,"8":1,"9":1,"10":1,"11":0,"12":1,"13":1},"f":{"0":4},"b":{"0":[1,3],"1":[1,2],"2":[1,1],"3":[1,0]},"inputSourceMap":{"version":3,"sources":["index.js"],"names":["generateValidationErrorMessage","errors","error","keyword","dataPath","params","missingProperty","type","format","additionalProperty"],"mappings":";;;;;;;AAAA,SAASA,8BAAT,CAAwCC,MAAxC,EAAgD;AAC5C,QAAMC,KAAK,GAAGD,MAAM,CAAC,CAAD,CAApB;;AACA,MAAIC,KAAK,CAACC,OAAN,KAAkB,UAAtB,EAAkC;AAChC,WAAQ,QAAOD,KAAK,CAACE,QAAS,IAAGF,KAAK,CAACG,MAAN,CAAaC,eAAgB,oBAA9D;AACD;;AACD,MAAIJ,KAAK,CAACC,OAAN,KAAkB,MAAtB,EAA8B;AAC5B,WAAQ,QAAOD,KAAK,CAACE,QAAS,2BAA0BF,KAAK,CAACG,MAAN,CAAaE,IAAK,EAA1E;AACD;;AACD,MAAIL,KAAK,CAACC,OAAN,KAAkB,QAAtB,EAAgC;AAC9B,WAAQ,QAAOD,KAAK,CAACE,QAAS,2BAA0BF,KAAK,CAACG,MAAN,CAAaG,MAAO,EAA5E;AACD;;AACD,MAAIN,KAAK,CAACC,OAAN,KAAkB,sBAAtB,EAA8C;AAC5C,WAAQ,QAAOD,KAAK,CAACE,QAAS,wCAAuCF,KAAK,CAACG,MAAN,CAAaI,kBAAmB,GAArG;AACD;;AACD,SAAO,yBAAP;AACD;;eAEcT,8B","sourceRoot":"/home/jake/projects/hobnob/src/validators/errors/messages/","sourcesContent":["function generateValidationErrorMessage(errors) {\n    const error = errors[0];\n    if (error.keyword === 'required') {\n      return `The '${error.dataPath}.${error.params.missingProperty}' field is missing`;\n    }\n    if (error.keyword === 'type') {\n      return `The '${error.dataPath}' field must be of type ${error.params.type}`;\n    }\n    if (error.keyword === 'format') {\n      return `The '${error.dataPath}' field must be a valid ${error.params.format}`;\n    }\n    if (error.keyword === 'additionalProperties') {\n      return `The '${error.dataPath}' object does not support the field '${error.params.additionalProperty}'`;\n    }\n    return 'The object is not valid';\n  }\n  \n  export default generateValidationErrorMessage;\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ba53d5e2d7ab55d3d0099c75b186867350b291d5","contentHash":"f8bd4ee7e76c7c1aa90ed59ccf80a807604a7ebfa75d188a0bb72a65398de557"}}